<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="edge" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <link rel="icon" href="/_ashen.ico" type="image/x-icon" />
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0"/>
    <title>反身而诚-首页</title>
    <meta name="keywords" content="反身而诚,小游戏,相册,留言">
    <meta name="description" content="反身而诚的个人空间网站,相册,留言">
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../src/public/myplayer/myplayer.css"/>
    <style>
        
        #header{position:relative;width:100%;height:100px;background:#5cb3cf;border-bottom:2px solid #73c330; z-index:20;}
        #header .bg-l{position:absolute; left:0; top:0; height:100%; width:auto;}
        #header .bg-r{position:absolute; right:0; top:0; height:100%; width:auto;}
        #header .bg-t{width: 100px; height: 100px; position: absolute; top: -45px; left: 160px;  animation:sun 25s linear infinite; -webkit-animation:sun 25s linear infinite;}
        @keyframes sun { 0%{transform:rotate(0deg);} 50%{transform:rotate(180deg);} 100%{transform:rotate(360deg);}}
        @-webkit-keyframes sun { 0%{transform:rotate(0deg);} 50%{transform:rotate(100deg);} 100%{transform:rotate(360deg);} }
        #header .profile{display:none;position:absolute;top:60px;left:110px;width:150px;height:150px;margin:-60px 0 0 -60px;border-radius:93px;border:3px solid #000000;overflow: hidden;z-index:21;background:#505050 url("../src/public/public/spliteBall.png") no-repeat;}
        #header .profile.hidebg{background:transparent; border-color:transparent;}
        #header .profile .spliteBall_up{position:absolute;top:0;left:0;width:180px;height:110px;background:url("../src/public/public/spliteBall.gif") no-repeat 0 0;z-index:25; }
        #header .profile .spliteBall_down{position:absolute;top:74px;width:180px;height:92px;background:url("../src/public/public/spliteBall.gif") no-repeat -150px 0;z-index:24;}
        #header .profile .box{width:80px;height:80px;position:absolute;top:35px;left:35px;border:none;z-index:22; transform-style: preserve-3d;-webkit-transform-style: preserve-3d; transform: translateZ(75px); animation:mymove 25s infinite linear; -webkit-animation:mymove 25s infinite linear;}
        #header .profile .box:hover{animation-play-state:paused;}

        .ballmove{transform:scale(0,0);left:1020px; display:block!important; animation:ball 1.5s ease-out 1; -webkit-animation:ball 1.5s ease-out 1; animation-fill-mode:forwards; -webkit-animation-fill-mode:forwards;}
        @keyframes ball { 0%{transform:scale(0) rotate(0deg);left:1020px;} 100%{transform:scale(1) rotate(-1800deg);left:110px;} }
        @-webkit-keyframes ball { 0%{transform:scale(0) rotate(0deg);left:1020px;} 100%{transform:scale(1) rotate(-1800deg);left:110px;} }

        .showJw{animation:jiuwei 4.2s linear; -webkit-animation:jiuwei 4.2s linear; animation-fill-mode:forwards; -webkit-animation-fill-mode:forwards;}
        @keyframes jiuwei { 0%{opacity:1;} 100%{opacity:0;}}
        @-webkit-keyframes jiuwei { 0%{opacity:1;} 100%{opacity:0;}}

        #header .profile .box .rect{display:block;width:80px;height:80px;position:absolute;top:0;left:0;border:none;text-align:center;line-height:80px;font-size:0;background:#000000;}
        #header .profile .box .rect_1{transform:rotateX(0deg) translateZ(40px);-webkit-transform:rotateX(0deg) translateZ(40px);-moz-transform:rotateX(0deg) translateZ(40px);-o-transform:rotateX(0deg) translateZ(40px);-ms-transform:rotateX(0deg) translateZ(40px);}
        #header .profile .box .rect_2{transform:rotateY(-90deg) translateZ(40px);-webkit-transform:rotateY(-90deg) translateZ(40px);-moz-transform:rotateY(-90deg) translateZ(40px);-o-transform:rotateY(-90deg) translateZ(40px);-ms-transform:rotateY(-90deg) translateZ(40px);}
        #header .profile .box .rect_3{transform:rotateY(90deg) translateZ(40px);-webkit-transform:rotateY(90deg) translateZ(40px);-moz-transform:rotateY(90deg) translateZ(40px);-o-transform:rotateY(90deg) translateZ(40px);-ms-transform:rotateX(90deg) translateZ(40px);}
        #header .profile .box .rect_4{transform:rotateX(90deg) translateZ(40px);-webkit-transform:rotateX(90deg) translateZ(40px);-moz-transform:rotateX(90deg) translateZ(40px);-o-transform:rotateX(90deg) translateZ(40px);-ms-transform:rotateX(90deg) translateZ(40px);}
        #header .profile .box .rect_5{transform:rotateX(-90deg) translateZ(40px);-webkit-transform:rotateX(-90deg) translateZ(40px);-moz-transform:rotateX(-90deg) translateZ(40px);-o-transform:rotateX(-90deg) translateZ(40px);-ms-transform:rotateX(-90deg) translateZ(40px);}
        #header .profile .box .rect_6{transform:rotateX(180deg) translateZ(40px);-webkit-transform:rotateX(180deg) translateZ(40px);-moz-transform:rotateX(180deg) translateZ(40px);-o-transform:rotateX(180deg) translateZ(40px);-ms-transform:rotateX(180deg) translateZ(40px);}
        #header .profile .box .rect img{width:100%;height:100%;margin:0;padding:0;border:0;}
        #header .showphoto{display:none;position:absolute;top:170px;left:200px;width:275px;height:275px;border:3px solid #000000;border-radius:10px;line-height:275px;text-align:center;z-index:23;background:#ffffff;font-size:0;}
        #header .showphoto img{height:250px;width:250px;border:0;margin:0;padding:0;}

        @keyframes mymove{from{transform:rotateX(0deg) rotateY(0deg) rotateZ(0deg);}to{transform:rotateX(360deg) rotateY(720deg) rotateZ(0deg);} }
        @-webkit-keyframes mymove{ from{-webkit-transform:rotateX(0deg) rotateY(0deg) rotateZ(0deg);} to{-webkit-transform:rotateX(360deg) rotateY(720deg) rotateZ(0deg);} }
        @-moz-keyframes mymove{ from{-moz-transform:rotateX(0deg) rotateY(0deg) rotateZ(0deg);} to{-moz-transform:rotateX(360deg) rotateY(720deg) rotateZ(0deg);} }
        @-o-keyframes mymove{ from{-o-transform:rotateX(0deg) rotateY(0deg) rotateZ(0deg);} to{-o-transform:rotateX(360deg) rotateY(720deg) rotateZ(0deg);} }
        @-ms-keyframes mymove{ from{-o-transform:rotateX(0deg) rotateY(0deg) rotateZ(0deg);} to{-o-transform:rotateX(360deg) rotateY(720deg) rotateZ(0deg);} }

        #header .menu{height:100px;width:1000px;margin:auto;}
        @media only screen and (min-width: 1800px){#header .menu{width:1400px;margin:0 auto;}}
        @media only screen and (max-width:1310px){#header .menu{width:800px;margin-left:160px;}}
        #header .menu>a{display:block;float:left;position:relative;height:100%;min-width:120px;width:160px;overflow:hidden;cursor:url("http://ashenalbum.com/src/public/public/foxtailGrass.cur"),pointer;cursor:pointer\9;}
        #header .menu>a span{position:absolute;bottom:30px;left:0;width:100%;font:22px/27px "KaiTi","Microsoft YaHei","SimSun","HELVETICA";color:#ffffff;text-align:center;}
        #header .menu>a>.action_pt{display:block;position:absolute;bottom:-140px;left:50%;margin-left:-60px;width:120px;height:70px;background:url("../src/public/public/menu.png") no-repeat;z-index:3;}
        #header:hover+#content .cont{-webkit-filter: blur(5px);filter: blur(5px);}

        #content{/*background: url('../src/public/public/bg-mj.jpg') repeat;*/ /*background-image: radial-gradient(#6a6a6a, #202020);*/ background-size:cover;}
        #content .cont>.box{width:980px;margin:0 auto;padding-bottom:30px; opacity:0.5;}
        #content .cont>.box:after{content:" ";display:block;clear:both;height:0;}
        #content .cont .box .list{width:640px;float:left;font-size:22px;}
        @media only screen and (min-width: 1400px) {#content .cont>.box{width:1400px;} #content .cont .box .list{width:980px;}  }
        #content .cont .box .list>a{display:block;position:relative;margin-top:10px;padding-left:160px;height:120px;color:#ffffff;background:rgba(0,0,0,0.4);cursor:pointer;
            filter:progid:DXImageTransform.Microsoft.gradient(startcolorstr=#66000000,endcolorstr=#66000000);}
        #content .cont .box .list a:hover{background:rgba(0,0,0,0.5);
            filter:progid:DXImageTransform.Microsoft.gradient(startcolorstr=#7F000000,endcolorstr=#7F000000);}
        #content .cont .box .list a>img{position:absolute;left:0;top:0;width:160px;height:120px;}
        #content .cont .box .list a>div{white-space: nowrap;overflow: hidden;text-overflow: ellipsis;font-size:18px;}
        #content .cont .box .list a>div .title{height:60px;font-size:22px;line-height:60px;padding-left:10px;}
        #content .cont .box .list a>div .bewrite{
            height:60px;font-size:16px;line-height:30px;padding-left:10px;white-space:pre-wrap;overflow:hidden;font-family: "SimSun", "Microsoft YaHei", "HELVETICA";
            text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;
        }
        #content .snail{width:84px;height:53px;position:absolute;z-index:4;bottom:0;left:0;}

        #datetime{width: 322px; position:relative;float: right;font-family:"SimSun","Microsoft YaHei","HELVETICA";}
        #datetime .clock{overflow:hidden;padding:24px 18px;border-radius:16px;background:#020202;margin-bottom:20px;}
        #datetime .clock .timebox{float:left;padding:4px 2px;border:1px solid #555555;border-radius:8px;background:#141414;}
        #datetime .clock .n{width:40px;height:55px;float:left;background:url("../src/index/_animate/number.png")}
        #datetime .clock .point{width:20px;height:55px;float:left;background:url("../src/index/_animate/number.png") no-repeat -400px 0;}
        #datetime .clock .guang{position:absolute;top:0;left:0;width:322px;height:113px;background:url("../src/index/_animate/clockGuang.png");}
        #datetime .date{position:relative;height:304px;border-top:1px solid #555555;background:rgba(255,255,255,0.6);}
        #datetime .date .title {height:36px;}
        #datetime .date .title .year,
        #datetime .date .title .month{box-sizing:border-box;display:block;width:50%;border-left:1px solid #aaaaaa;border-right:1px solid #aaaaaa;height:36px;float:left;text-align:center;font-size:18px;line-height:36px;cursor:pointer;}
        #datetime .date .title .year:hover,
        #datetime .date .title .month:hover{box-shadow:0 0 12px #3385ff inset;}
        #datetime .date .selectyear{display:none;width:160px;height:36px;border:none;padding:0;position:absolute;left:0;top:0;text-align:center;font-size:18px;font-family:"SimSun","Microsoft YaHei","HELVETICA";}
        #datetime .date .selectyear:focus{outline:none;}
        #datetime .date .selectmonth{display:none;position:relative;z-index:9;width:322px;height:266px;position:absolute;top:37px;right:0;background:#f9f9f9;}
        #datetime .date .selectmonth div{width:80.5px;height:88.66px;float:left;text-align:center;line-height:88px;font-size:18px;cursor:pointer;}
        #datetime .date .selectmonth div:hover{background:#007aff;color:#ffffff;}
        #datetime .date .daybox{border-top:1px solid #aaaaaa;}
        #datetime .date .daybox .day{float:left;padding:2px 5px 0 5px;width:36px;height:36px;line-height:36px;text-align:center;font-size:16px;cursor:default}
        #datetime .date .daybox .day:hover{outline:1px solid #007aff;}
        #datetime .date .daybox .active{width:34px;height:34px;border:1px dotted #ff0000;}
        #datetime .date .daybox .badge{background:url("../src/index/_animate/badge.png") no-repeat right bottom;}
        #datetime .date .daybox .ashen{color: #666666;}
        #datetime .date .daybox .todayIsFestive{position:relative;animation:festive 2s infinite;-webkit-animation:festive 2s infinite;}
        @keyframes festive {
            10%{top:0;}
            20%{top:-24px;}
            30%{top:0;}
            40%{top:-12px;}
            50%{top:0;}
            55%{top:-6px;}
            60%{top:0;}
        }
        @-webkit-keyframes festive {
            10%{top:0;}
            20%{top:-24px;}
            30%{top:0;}
            40%{top:-12px;}
            50%{top:0;}
            55%{top:-6px;}
            60%{top:0;}
        }
        #datetime .date .date_attr{display:none;position:absolute;width:290px;padding:10px 0;border:1px solid #cccccc;border-radius:10px;top:0;left:0;background:#ffffff;font-size:16px;}
        #datetime .date .date_attr p{padding:4px 8px;}
        #datetime .date .date_attr .mt-6{margin-top:6px;}
        #datetime .date .date_attr .fs_14{font-size:14px;line-height:1.5;}
        #datetime .date .date_attr .fs_12{font-size:12px;padding-top:4px;}
        #datetime .date .date_attr .c_66{color:#666666;}
        #datetime .date .date_attr .c_99{color:#999999;}
        .t-indent{text-indent:2em;}
        .luxun{margin-top:30px;font-size:18px;color:#eeeeee;}
        .beian{left:0;z-index:99;position:fixed;bottom:0;font-family: monospace;color: #000;font-size:10px;}
    </style>
    <link rel="stylesheet" href="../css/live2d.css"/>
</head>
<body ondragstart="return false">
<div id="header">
    <img src="../src/public/public/head-l.png" class="bg-l"/>
    <img src="../src/public/public/head-r.png" class="bg-r"/>
    <img src="../src/public/public/head-t.png" class="bg-t"/>
    <div class="profile">
        <div class="box">
            <div class="rect rect_1"><img _src="../src/public/headerbox/1.jpg"/></div>
            <div class="rect rect_2"><img _src="../src/public/headerbox/2.jpg"/></div>
            <div class="rect rect_3"><img _src="../src/public/headerbox/3.jpg"/></div>
            <div class="rect rect_4"><img _src="../src/public/headerbox/4.jpg"/></div>
            <div class="rect rect_5"><img _src="../src/public/headerbox/5.jpg"/></div>
            <div class="rect rect_6"><img _src="../src/public/headerbox/6.jpg"/></div>
        </div>
        <div class="spliteBall_up"></div>
        <div class="spliteBall_down"></div>
    </div>
    <div class="menu">
        <a class="active up" href="/"><span>滥觞</span><i class="action_pt"></i></a>
        <a href="/album"><span>随行</span><i class="action_pt"></i></a>
        <a href="/notes"><span>树洞</span><i class="action_pt"></i></a>
    </div>
    <div class="showphoto">
        <img src="../src/public/headerbox/1.jpg"/>
    </div>
</div>
<div id="content">
    <canvas id="bgcanvas" class="bg_canvas bg_points"></canvas>
    <!-- <div class="bg_points"></div> -->
    <div class="cont">
        <div id="datetime">
            <!-- <div class="clock">
                <div class="timebox">
                    <div class="n h1"></div>
                    <div class="n h2"></div>
                    <div class="point"></div>
                    <div class="n m1"></div>
                    <div class="n m2"></div>
                    <div class="point"></div>
                    <div class="n s1"></div>
                    <div class="n s2"></div>
                </div>
                <div class="guang"></div>
            </div> -->
            <div class="date">
                <div class="title">
                    <span class="year"></span>
                    <span class="month"></span>
                </div>
                <input type="text" size="4" maxlength="4" class="selectyear" />
                <div class="selectmonth"></div>
                <div class="daybox"></div>
                <div class="date_attr"></div>
            </div>
        </div>
        <!--正文-->
        <div class="box" >
            <div class="list"></div>
        </div>
    </div>
    <div id="landlord">
        <!--地板--<div class="ground"></div>-->
        <div class="message" style="display:none;"></div>
        <canvas id="live2d" width="200" height="300"  class="live2d"></canvas>
        <div id="chat" style="display:none;">
            <span class="iconfont icon-enter enter"></span>
            <input class="txt" type="text" placeholder="快来和我聊天吧"/>
            <input class="btn" type="button" value="ok"/>
        </div>
    </div>
</div>
<a href="http://www.beian.miit.gov.cn" target="_blank" class="beian">晋ICP备18003528号</a>
<audio id="bgm" autoplay></audio>
<script type="text/javascript" src="../js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../js/main.js"></script>
<script type="text/javascript" src="../js/chineseDate.js"></script>
<script>

    $(function(){
        pageInit();
        bgSnake();
        if(window.sessionStorage?!getSessionStorage("ball") : !getCookie("ball")){
            var img = new Image();
            img.src = "../src/public/public/spliteBall.gif";
            img.onload = jx;
            img.onerror = jx;
        }else{jx();}
        
        function jx(){
            spliteBall(window.sessionStorage?!getSessionStorage("ball") : !getCookie("ball"));
            var bgmDocument = document.getElementById("bgm");
            if(lowIE){$(bgmDocument).remove();}else if(bgmDocument){bgmDocument.volume = 0.45;bgmDocument.loop = true;}
        }
    });
    function pageInit(){
        $.ajax({
            url:"../src/index/index.json",
            dataType:"json",
            success:function(data){
                for(var i in data){
                    var dom = '<a href="'+data[i].href+'">' +
                        '<img _src="'+data[i].img+'"/>' +
                        '<div>' +
                        '<p class="title">'+data[i].title+'</p>' +
                        '<p class="bewrite">'+data[i].text+'</p>' +
                        '</div>' +
                        '</a>';
                    content.find(".box .list").append(dom);
                }
                content.find(".box .list a img").each(function(){
                    $(this).attr("src",$(this).attr("_src"));
                });
                content.find(".list>a").click(function(event){
                    var src = $(this).attr("href");
                    Mask.add("<iframe src='"+src+"' style='width:1100px;height:700px;background:#ffffff;margin:-350px 0 0 -550px;position:absolute;top:50%;left:50%;'></iframe>");
                    $(".mask iframe").focus();
                    event.preventDefault();
                });
            }
        });
        //设置日期
        setDates();
    }

    function setDates(){
        var datebox = $("#datetime .date");
        var yearbox = datebox.find(".year");
        var monthbox = datebox.find(".month");
        var daybox = datebox.children(".daybox");
        var clock = $("#datetime>.clock");
        var dateAttr = datebox.children(".date_attr");
        var date = new Date();
        var nowYear = date.getFullYear();
        var nowMonth = date.getMonth();
        var nowDate = date.getDate();
        var location = datebox.offset();

        init();
        function init(){
            dateInit();
            // clockInit();
            // function clockInit(){
            //     setInterval(function(){setClock()},10);
            // }
            function dateInit(){
                yearbox.html(nowYear+"年").attr({y:nowYear});
                monthbox.html(nowMonth+1+"月").attr({m:nowMonth});
                setMonth();
                //改变月份
                var selectmonth = $("#datetime .date .selectmonth");
                for(var i=0;i<12;i++){selectmonth.append("<div m='"+i+"'>"+(i+1)+"月</div>")}
                selectmonth.children("div").click(function(){
                    var m = $(this).attr("m");
                    monthbox.html(parseInt(m)+1+"月").attr({m:m});
                    setMonth();
                });
                monthbox.click(function(){selectmonth.show(200);$("body").one("click",function(){selectmonth.hide()});return false});
                //改变年数
                var selectyear = $("#datetime .date .selectyear");
                yearbox.click(function(){selectyear.show().focus().val(yearbox.attr("y")).select()});
                selectyear.blur(function(){
                    selectyear.hide();
                    var value = selectyear.val();
                    if(/^\d{4}$/.test(value)&&parseInt(value)>=1900&&parseInt(value)<=2099&&value!=yearbox.attr("y")){
                        yearbox.html(value+"年").attr({y:value});setMonth();
                    }
                }).bind("input",function(){
                    var value = selectyear.val();
                    if(/^\d{4}$/.test(value)&&parseInt(value)>=1900&&parseInt(value)<=2099){selectyear.blur()}
                });
            }
            win.resize(function(){location = datebox.offset()});
        }

        //日历
        function setMonth(){
            var y = yearbox.attr("y");
            var m = monthbox.attr("m");
            var oneday = new Date(y,m,1).getDay();
            var bd;
            oneday==0?bd=-6:bd=-(oneday-1);
            var daytt = ["日","一","二","三","四","五","六"];
            daybox.empty();
            for(var tt=0;tt<7;tt++){daybox.append("<div class='day'>"+daytt[tt]+"</div>")}
            for(var i=0;i<42;i++){
                var d = new Date(y,m,bd);
                var a = {date:d.getDate(),nowmonth:d.getMonth()==m};
                var dom = $("<div class='day'></div>");
                a.nowmonth?0:dom.addClass("ashen ");
                (y==nowYear)&&(m==nowMonth)&&(bd==nowDate)?dom.addClass("active"):0;
                var lunar = ChineseCalendar.date2lunar(d);
                dom.html(a.date).attr({
                    date:a.date,
                    lunarYear:lunar.gzY,
                    lunarMonth:lunar.lunarMonthChiness,
                    lunarDate:lunar.lunarDayChiness,
                    star:lunar.start
                });
                var festive = ChineseCalendar.isFestive(d.getFullYear(),d.getMonth()+1,d.getDate(),lunar.lunarYear,lunar.lunarMonth,lunar.lunarDay);
                if(festive){dom.attr({festive:festive}).addClass("badge")}
                daybox.append(dom);
                dom.mousemove(function(event){
                    var x=event.clientX-location.left ,y=event.clientY-location.top+36;
                    //dateAttr.css({left:x+"px",top:y+"px"});
                    var w = dateAttr.width();
                    var h = dateAttr.height()+22;
                    if(w+event.clientX>content.width()){dateAttr.css({left:x-w-20+"px"})}else{dateAttr.css({left:x+20+"px"})}
                    if(h+40+event.clientY>win.height()){dateAttr.css({top:y-72-h+"px"})}else{dateAttr.css({top:y+"px"})}
                }).mouseenter(function(){
                    var ts = $(this);
                    dateAttr.show();
                    dateAttr.empty().html("<p>"
                        +ts.attr("lunaryear")+"年·"
                        +ts.attr("lunarmonth")+"·"
                        +ts.attr("lunardate")
                        +"<span style='float:right;' class='fs_12 c_66'>"+ts.attr("star")+"</span>"
                        +"</p>"
                    );
                    var festive = ts.attr("festive");
                    if(festive && festive!="false"){
						if(!/,/.test(festive)){
							var festiveDate = ChineseCalendar.festiveList[festive];
							var dom = "<p class='mt-6'><span>今天是：</span><span style='color:#ff0000;'>"+festiveDate.title+"</span></p>" +
								"<p class='fs_14 c_99 t-indent'>"+festiveDate.content+"</p>";
							dateAttr.append(dom);
						}else{
							var arr = festive.split(",");
							for(var i in arr){
								var festiveDate = ChineseCalendar.festiveList[arr[i]];
								var dom = "<p class='mt-6'><span>今天是：</span><span style='color:#ff0000;'>"+festiveDate.title+"</span></p>" +
								"<p class='fs_14 c_99 t-indent'>"+festiveDate.content+"</p>";
								dateAttr.append(dom);
							}
						}
                    }
                }).mouseleave(function(){
                    dateAttr.hide();
                });
                bd++;
            }
            if(daybox.find(".active").attr("festive")&&daybox.find(".active").attr("festive")!="99"){
                daybox.find(".active").addClass("todayIsFestive");
            }
        }
        //时钟
        // function setClock(){
        //     var date = new Date();
        //     var hours = date.getHours();
        //     var minutes = date.getMinutes();
        //     var seconds = date.getSeconds();
        //     var h1 = clock.find(".h1");
        //     var h2 = clock.find(".h2");
        //     var m1 = clock.find(".m1");
        //     var m2 = clock.find(".m2");
        //     var s1 = clock.find(".s1");
        //     var s2 = clock.find(".s2");
        //     h1.css({backgroundPositionX:-parseInt(hours/10)*40});
        //     h2.css({backgroundPositionX:-parseInt(hours%10)*40});
        //     m1.css({backgroundPositionX:-parseInt(minutes/10)*40});
        //     m2.css({backgroundPositionX:-parseInt(minutes%10)*40});
        //     s1.css({backgroundPositionX:-parseInt(seconds/10)*40});
        //     s2.css({backgroundPositionX:-parseInt(seconds%10)*40});
        // }
    }

    //精灵球
    function spliteBall(bool){
        var ball = header.children(".profile");
        var play = typeof bool==="undefined"?true:bool;//是否播放滚动动画
        if(play){
            setTimeout(function(){
                ball.addClass("ballmove");
                showRectImg();
                setTimeout(function(){
                    ball.children(".spliteBall_up").animate({top:"-110px"},700,function(){$(this).remove();}).next().animate({top:"200px"},700,function(){$(this).remove();});
                    document.cookie = "ball=true;expires=-1";
                    if(window.sessionStorage){sessionStorage.ball=true;}
                    removeBg();
                },2000);
            },1500);
        }else{
            ball.children(".spliteBall_up").remove();
            ball.children(".spliteBall_down").remove();
            ball.show();
            showRectImg();
            removeBg();
        }

        function removeBg(){
            ball.addClass("hidebg");
        }

        function showRectImg(){
            header.find(".profile .box img").each(function(){
                var ts = $(this);
                ts.attr("src",ts.attr("_src"));
            });
        }

        var box = ball.children(".box");
        var pto = box.find(".rect img");
        var showpto = header.children(".showphoto");

        if(!showpto.length){return false;}
        ball.mouseleave(function(){
            if(showpto.attr("show")==="show"){showpto.attr({show:"hide"}).hide(100);}
        }).mousemove(function(event){
            var x=event.clientX ,y=event.clientY;
            showpto.css({top:y+35+"px",left:x+35+"px"});
        });
        pto.mousemove(function(event){
            var x=event.clientX,y=event.clientY;
            var src = $(this).attr("src");
            showpto.children("img").attr({src:src});
            showpto.show(100).attr({show:"show"}).css({top:y+35+"px",left:x+35+"px"});
        });
    }
    //菜单栏
    function menuAction(){
        header.on("click",".bg-t",function(){window.location.href = "/index"});
        var menu = header.children(".menu");
        var link = menu.children("a");
        link.each(function(id,element){
            element.leave = function(){
                //鼠标移出
                var a = $(this).removeAttr("actv");
                if(a.is(".action")){return false;}
                a.children("span").stop(true,false).animate({bottom:"30px"},130);
                var pt = a.find(".action_pt");
                if(pt.length){
                    pt.stop(true,false).animate({bottom:"-140px"},200,function(){
                        $(this).remove();
                        var actv = link.filter("[actv]");
                        if(!actv.length){link.filter(".active").get(0).enter();}
                    });
                }
            };
            element.enter = function(){
                //鼠标移入
                var actv = link.filter("[actv]");
                if(actv.length){actv.removeAttr("actv").mouseleave();}
                var a = $(this).attr({actv:"actv"});
                var pt = a.find(".action_pt");
                if(pt.length){
                    pt.stop(false,false).animate({bottom:0}, 300);
                }else{
                    a.html(a.html()+"<i class=\"action_pt\" style='bottom: -140px'></i>");
                    a.find(".action_pt").animate({bottom:0}, 300);

                }
                var span = a.children("span");
                span.stop(true,false);
                span.animate({width:"100%"},170);
                span.animate({bottom:"60px"}, 130);
            };
        });
        link.mouseleave(function(){
            this.leave();
        }).mouseenter(function(){
            this.enter();
        });
        var img = new Image();
        img.src = "../src/public/public/menu.png";
        img.onload = function(){link.filter(".active").get(0).enter();};
    }

</script>
<script src="../src/public/live2d/live2d.js"></script>
<script src="../src/public/live2d/setLive2.js"></script>
<script src="../src/public/myplayer/myplayer.js"></script>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan style='display:none;' id='cnzz_stat_icon_1273638543'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1273638543%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</body>
</html>